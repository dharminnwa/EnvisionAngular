<div class="row m-0 p-0 pl-2 pt-2">
  <div class="col-md-12 project_data_filters m-0 p-0 pl-1 pr-1 pt-1">
    <div class="row p-0 m-0">
      <div class="col-md-2 p-0 pr-1 m-0">
        <button type="button" class="btn btn-default btnFilterHead filterbtnfont p-0 m-0">States</button>
        <p-listbox [options]="AllfilterOptionValue.state[0]" [(ngModel)]="selectedAllFilters.state" [style]="{'width':'100%','height':'230px','overflow':'auto'}"
          multiple="multiple" checkbox="checkbox" filter="filter" filterMode="startsWith" optionLabel="stateProvince" *ngIf="companyfilter">
          <!-- <p-header>
            State
          </p-header> -->
        </p-listbox>
      </div>
      <div class="col-md-2 p-0 pr-1 m-0">
        <button type="button" class="btn btn-default btnFilterHead filterbtnfont p-0 m-0">Commodity</button>
        <p-listbox [options]="AllfilterOptionValue.commodities[0]" [(ngModel)]="selectedAllFilters.commodities" [style]="{'width':'100%','height':'230px','overflow':'auto'}"
          multiple="multiple" checkbox="checkbox" filter="filter" filterMode="startsWith" optionLabel="commodity" *ngIf="companyfilter">
          <!-- <p-header>
            Commodity
          </p-header> -->
        </p-listbox>
      </div>
      <div class="col-md-2 p-0 pr-1 m-0">
        <button type="button" class="btn btn-default btnFilterHead filterbtnfont p-0 m-0" >Enitity</button>
        <p-listbox [options]="AllfilterOptionValue.entities[0]" [(ngModel)]="selectedAllFilters.entities" [style]="{'width':'100%','height':'230px','overflow':'auto'}"
          multiple="multiple" checkbox="checkbox" filter="filter" filterMode="startsWith" optionLabel="entity" *ngIf="companyfilter">
          <!-- <p-header>
            Enitity
          </p-header> -->
        </p-listbox>
      </div>
      <div class="col-md-2 p-0 pr-1 m-0">
        <button type="button" class="btn btn-default btnFilterHead filterbtnfont p-0 m-0">Entity type</button>
        <p-listbox [options]="AllfilterOptionValue.entityType[0]" [(ngModel)]="selectedAllFilters.entityType" [style]="{'width':'100%','height':'230px','overflow':'auto'}"
          multiple="multiple" checkbox="checkbox" filter="filter"  filterMode="startsWith" optionLabel="entityType" *ngIf="companyfilter">
          <!-- <p-header>
            Entity type
          </p-header> -->
        </p-listbox>
      </div>
      <div class="col-md-2 p-0 pr-1 m-0">
        <button type="button" class="btn btn-default btnFilterHead filterbtnfont p-0 m-0">Business Line</button>
        <p-listbox [options]="AllfilterOptionValue.businessLine[0]" [(ngModel)]="selectedAllFilters.businessLine"
          [style]="{'width':'100%','height':'230px','overflow':'auto'}" multiple="multiple" checkbox="checkbox" filter="filter" filterMode="startsWith"
          optionLabel="businessLine" *ngIf="companyfilter">
          <!-- <p-header>
            Business Line
          </p-header> -->
        </p-listbox>
      </div>
      <div class="col-md-2 p-0 pr-1 m-0 pull-right">
        <button type="button" class="btn btn-xs btn-primary filterbtnfont" (click)="companyfilter = !companyfilter">
          <span *ngIf="!companyfilter"><i class="fa fa-plus"></i> Expand Filters</span>
          <span *ngIf="companyfilter"><i class="fa fa-minus"></i> Collapse Filters</span>
        </button>

        <div class="row" style="height:calc(100% - 70px);" *ngIf="companyfilter"></div>
        <div class="row mt-1">
          <div class="col-md-9 pr-0">
            <div class="form-group typehead">
              <input placeholder="Search Company Name" [(ngModel)]="selectedCompanyName" [typeahead]="AllfilterOptionValue.selectedCompanyNameList[0]"
                [typeaheadScrollable]="true" [typeaheadOptionsInScrollableView]="3" [typeaheadOptionsLimit]="500" class="form-control txtIntSearch filterbtnfont"
                (typeaheadOnSelect)="typeaheadOnSelect($event)">
            </div>
          </div>
          <div class="col-md-3 pr-0 pl-1">
            <button type="button" class="btn btn-primary pr-1 pl-1 searchfontstyle" (click)="searchCompnayName()">Search</button>
          </div>
        </div>
      </div>
    </div>
    <div class="row p-0 m-0">
      <!-- <div class="col-md-4 p-0 m-0"></div>
      <div class="col-md-4">
        <div class="row">
          <div class="col-md-8 p-0 m-0 text-right">
            <div class="form-group typehead">
              <input placeholder="Search Company Name" [(ngModel)]="selectedCompanyName" [typeahead]="AllfilterOptionValue.selectedCompanyNameList[0]"
                [typeaheadScrollable]="true" [typeaheadOptionsInScrollableView]="5" class="form-control"
                (typeaheadOnSelect)="typeaheadOnSelect($event)">
            </div>
          </div>
          <div class="col-md-4 p-0 text-right">
            <button type="button" class="btn btn-primary btn-cons" (click)="searchCompnayName()">Search</button>
          </div>
        </div>
      </div> -->
      <div class="col-md-12 p-1 text-right" *ngIf="companyfilter || selectedCompanyName!=''">
        <div class="FormatButtons" *ngIf="selectedAllFilters.state.length>0 
                || selectedAllFilters.commodities.length>0 || selectedAllFilters.entities.length>0 
                || selectedAllFilters.entityType.length>0 || selectedAllFilters.businessLine.length>0 
                || selectedCompanyName!=''">
          <button type="button" class="btn btn-default btn-cons filterbtnfont" style="font-weight: bold" (click)="Clearallfilters()">Clear</button>
          <button type="button" class="btn btn-primary btn-cons filterbtnfont" (click)="CompanyApplyfilter()">Apply
            filters</button>
        </div>
      </div>
    </div>
  </div>
</div>
<div clas="row m-0 p-0">
  <div class="container-fluid m-0 p-0 pl-2 pr-0">
    <div class="card card-default m-t-10">
      <div class="card-body">
        <div class="invoice">
          <ag-grid-angular #CompanyIntelligence_agGrid style="width: 100%; height: 500px;" id="CompanyIntelligenceGrid"
            [rowData]="CompanyrowData" class="ag-theme-balham" [columnDefs]="columnDefs" [enableSorting]="true"
            [enableFilter]="true" [suppressRowClickSelection]="false" [debug]="true" [rowSelection]="rowSelection"
            [enableColResize]="true" [paginationAutoPageSize]="false" [pagination]="true" (gridReady)="onGridReady($event)"
            [paginationPageSize]="paginationPageSize" [paginationNumberFormatter]="paginationNumberFormatter"
            [overlayLoadingTemplate]="overlayLoadingTemplate" [overlayNoRowsTemplate]="overlayNoRowsTemplate"
            (rowClicked)="onRowClicked($event)"></ag-grid-angular>
          <div class="row m-0 p-0">
            <span class="pr-2">Page Size:</span>
            <select (change)="onPageSizeChanged()" id="page-size" class="form-control" style="width: 50px;">
              <option value="10">10</option>
              <option value="25" >25</option>
              <option value="50">50</option>
              <option value="100" selected="">100</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- <div class="row m-0 p-0 pl-2">

</div> -->